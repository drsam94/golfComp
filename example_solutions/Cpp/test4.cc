#include<stdio.h>
#define p (S-s?*--S:0)
#define P*S++
#define M(x);O-*#x?:P=p x a;
long ans(string f){int a=0,b,T=90,J,s[T],*S=s,c=0,d=5;char C[2700]{},O;for(FILE*F=fopen(&f[0],"r");fgets(&C[a],T,F);a+=T);for(f="<>^v_|\\`!+-*/%$";(O=C[c])-64;c=(89+c%T+d%3)%T+T*((29+c/T+d/3)%30)){J=f.find(O)+1;a=J<5?:p
M(+)M(-)int Q[]{d,3,5,1,7,a?3:5,a?1:7}M(%)d=Q[J*(J<7)]M(/)J==7?b=p,P=a,P=b:O==58?*S=p,P=P:O>47&O<58?P=O-48:J-9?:P=!a
M(*)O-=36
M(<)}return p;}